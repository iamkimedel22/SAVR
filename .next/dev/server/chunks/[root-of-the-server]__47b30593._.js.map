{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/expense-tracker-web-app/lib/db.ts"],"sourcesContent":["import mysql from \"mysql2/promise\"\n\nconst pool = mysql.createPool({\n  host: process.env.MYSQL_HOST || \"localhost\",\n  user: process.env.MYSQL_USER || \"root\",\n  password: process.env.MYSQL_PASSWORD || \"\",\n  database: process.env.MYSQL_DATABASE || \"savr\",\n  waitForConnections: true,\n  connectionLimit: 10,\n  queueLimit: 0,\n})\n\nexport async function executeQuery(query: string, values?: any[]) {\n  try {\n    const connection = await pool.getConnection()\n    const [results] = await connection.execute(query, values)\n    connection.release()\n    return results\n  } catch (error) {\n    console.error(\"Database error:\", error)\n    throw error\n  }\n}\n\nexport default pool\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,OAAO,8IAAK,CAAC,UAAU,CAAC;IAC5B,MAAM,QAAQ,GAAG,CAAC,UAAU,IAAI;IAChC,MAAM,QAAQ,GAAG,CAAC,UAAU,IAAI;IAChC,UAAU,QAAQ,GAAG,CAAC,cAAc,IAAI;IACxC,UAAU,QAAQ,GAAG,CAAC,cAAc,IAAI;IACxC,oBAAoB;IACpB,iBAAiB;IACjB,YAAY;AACd;AAEO,eAAe,aAAa,KAAa,EAAE,MAAc;IAC9D,IAAI;QACF,MAAM,aAAa,MAAM,KAAK,aAAa;QAC3C,MAAM,CAAC,QAAQ,GAAG,MAAM,WAAW,OAAO,CAAC,OAAO;QAClD,WAAW,OAAO;QAClB,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,MAAM;IACR;AACF;uCAEe"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/expense-tracker-web-app/app/api/auth/register/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport bcrypt from \"bcrypt\"\nimport jwt from \"jsonwebtoken\"\nimport { executeQuery } from \"@/lib/db\"\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { email, password, name } = await request.json()\n\n    // Validate input\n    if (!email || !password || !name) {\n      return NextResponse.json({ message: \"Missing required fields\" }, { status: 400 })\n    }\n\n    if (password.length < 8) {\n      return NextResponse.json({ message: \"Password must be at least 8 characters\" }, { status: 400 })\n    }\n\n    // Check if user already exists\n    const existingUsers = await executeQuery(\"SELECT id FROM users WHERE email = ?\", [email])\n    if (Array.isArray(existingUsers) && existingUsers.length > 0) {\n      return NextResponse.json({ message: \"User already exists\" }, { status: 409 })\n    }\n\n    // Hash password\n    const hashedPassword = await bcrypt.hash(password, 10)\n\n    // Create user\n    const result = await executeQuery(\"INSERT INTO users (email, password_hash, name) VALUES (?, ?, ?)\", [\n      email,\n      hashedPassword,\n      name,\n    ])\n\n    const userId = (result as any).insertId\n\n    // Create default categories for user\n    const defaultCategories = [\n      { name: \"Food\", color: \"#FF6B6B\" },\n      { name: \"Transport\", color: \"#4ECDC4\" },\n      { name: \"Entertainment\", color: \"#45B7D1\" },\n      { name: \"Shopping\", color: \"#FFA07A\" },\n      { name: \"Bills\", color: \"#98D8C8\" },\n      { name: \"Healthcare\", color: \"#FF7675\" },\n      { name: \"Education\", color: \"#A29BFE\" },\n      { name: \"Other\", color: \"#DFE6E9\" },\n    ]\n\n    for (const category of defaultCategories) {\n      await executeQuery(\"INSERT INTO categories (user_id, name, color) VALUES (?, ?, ?)\", [\n        userId,\n        category.name,\n        category.color,\n      ])\n    }\n\n    // Generate JWT token\n    const token = jwt.sign({ userId, email }, process.env.JWT_SECRET || \"secret\", {\n      expiresIn: \"7d\",\n    })\n\n    return NextResponse.json(\n      {\n        message: \"User created successfully\",\n        accessToken: token,\n        user: { id: userId, email, name },\n      },\n      { status: 201 },\n    )\n  } catch (error) {\n    console.error(\"[v0] Registration error:\", error)\n    return NextResponse.json({ message: \"Internal server error\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA;AACA;;;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpD,iBAAiB;QACjB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM;YAChC,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QACjF;QAEA,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAyC,GAAG;gBAAE,QAAQ;YAAI;QAChG;QAEA,+BAA+B;QAC/B,MAAM,gBAAgB,MAAM,IAAA,2HAAY,EAAC,wCAAwC;YAAC;SAAM;QACxF,IAAI,MAAM,OAAO,CAAC,kBAAkB,cAAc,MAAM,GAAG,GAAG;YAC5D,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAsB,GAAG;gBAAE,QAAQ;YAAI;QAC7E;QAEA,gBAAgB;QAChB,MAAM,iBAAiB,MAAM,OAAO,IAAI,CAAC,UAAU;QAEnD,cAAc;QACd,MAAM,SAAS,MAAM,IAAA,2HAAY,EAAC,mEAAmE;YACnG;YACA;YACA;SACD;QAED,MAAM,SAAS,AAAC,OAAe,QAAQ;QAEvC,qCAAqC;QACrC,MAAM,oBAAoB;YACxB;gBAAE,MAAM;gBAAQ,OAAO;YAAU;YACjC;gBAAE,MAAM;gBAAa,OAAO;YAAU;YACtC;gBAAE,MAAM;gBAAiB,OAAO;YAAU;YAC1C;gBAAE,MAAM;gBAAY,OAAO;YAAU;YACrC;gBAAE,MAAM;gBAAS,OAAO;YAAU;YAClC;gBAAE,MAAM;gBAAc,OAAO;YAAU;YACvC;gBAAE,MAAM;gBAAa,OAAO;YAAU;YACtC;gBAAE,MAAM;gBAAS,OAAO;YAAU;SACnC;QAED,KAAK,MAAM,YAAY,kBAAmB;YACxC,MAAM,IAAA,2HAAY,EAAC,kEAAkE;gBACnF;gBACA,SAAS,IAAI;gBACb,SAAS,KAAK;aACf;QACH;QAEA,qBAAqB;QACrB,MAAM,QAAQ,kJAAG,CAAC,IAAI,CAAC;YAAE;YAAQ;QAAM,GAAG,QAAQ,GAAG,CAAC,UAAU,IAAI,UAAU;YAC5E,WAAW;QACb;QAEA,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,aAAa;YACb,MAAM;gBAAE,IAAI;gBAAQ;gBAAO;YAAK;QAClC,GACA;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACF"}}]
}