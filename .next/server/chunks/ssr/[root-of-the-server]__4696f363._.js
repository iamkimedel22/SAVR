module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}a.s(["Card",()=>d])},5522,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},11277,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(3130),g=a.i(5522),h=a.i(38246);function i(){let a=(0,d.useRouter)(),i=(0,d.useSearchParams)(),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)("new"===i.get("action")),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)({amount:"",category:"",type:"expense",date:new Date().toISOString().split("T")[0],note:""});(0,c.useEffect)(()=>{localStorage.getItem("accessToken")?v():a.push("/login")},[a]);let v=async()=>{try{let b=localStorage.getItem("accessToken"),[c,d]=await Promise.all([fetch("/api/transactions",{headers:{Authorization:`Bearer ${b}`}}),fetch("/api/categories",{headers:{Authorization:`Bearer ${b}`}})]);if(401===c.status||401===d.status){localStorage.removeItem("accessToken"),a.push("/login");return}let e=await c.json(),f=await d.json();k(e),m(f)}catch(a){console.error("Failed to fetch data",a)}finally{o(!1)}},w=async a=>{a.preventDefault();try{let a=localStorage.getItem("accessToken");(await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(t)})).ok&&(q(!1),u({amount:"",category:"",type:"expense",date:new Date().toISOString().split("T")[0],note:""}),v())}catch(a){console.error("Failed to add transaction",a)}},x=async a=>{if(confirm("Are you sure you want to delete this transaction?"))try{let b=localStorage.getItem("accessToken");console.log(`Deleting transaction ${a}...`);let c=await fetch(`/api/transactions/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}});console.log(`Delete response status: ${c.status}`);let d=await c.json();console.log("Delete response data:",d),c.ok?(s(""),v()):s(d.message||"Failed to delete transaction")}catch(a){console.error("Failed to delete transaction",a),s("An error occurred while deleting the transaction")}};return n?(0,b.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-muted-foreground",children:"Loading transactions..."})}):(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("nav",{className:"border-b border-card-border",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)(h.default,{href:"/dashboard",className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-black text-lg",children:"ðŸ’°"})}),(0,b.jsx)("span",{className:"text-xl font-bold text-foreground",children:"SAVR"})]})}),(0,b.jsx)(e.Button,{variant:"ghost",onClick:()=>{localStorage.removeItem("accessToken"),a.push("/login")},className:"text-muted-foreground hover:text-foreground",children:"ðŸšª"})]})}),(0,b.jsx)("div",{className:"border-b border-card-border",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex gap-6",children:[(0,b.jsx)(h.default,{href:"/dashboard",className:"text-muted-foreground hover:text-foreground pb-2",children:"Dashboard"}),(0,b.jsx)(h.default,{href:"/transactions",className:"text-primary font-medium border-b-2 border-primary pb-2",children:"Transactions"}),(0,b.jsx)(h.default,{href:"/budgets",className:"text-muted-foreground hover:text-foreground pb-2",children:"Budgets"}),(0,b.jsx)(h.default,{href:"/goals",className:"text-muted-foreground hover:text-foreground pb-2",children:"Goals"})]})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[r&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-error/10 border border-error text-error rounded",children:r}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Transactions"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>{let a=new Blob([[["Date","Category","Type","Amount","Note"],...j.map(a=>[a.date,a.category,a.type,a.amount,a.note])].map(a=>a.join(",")).join("\n")],{type:"text/csv"}),b=window.URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download="transactions.csv",c.click()},className:"border-card-border text-foreground bg-transparent",children:"ðŸ“¥ Export CSV"}),(0,b.jsx)(e.Button,{onClick:()=>q(!0),className:"bg-primary hover:bg-primary-dark text-black font-semibold",children:"âž• Add Transaction"})]})]}),(0,b.jsx)(f.Card,{className:"bg-card-bg border-card-border",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"border-b border-card-border",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left px-6 py-4 font-semibold text-foreground",children:"Date"}),(0,b.jsx)("th",{className:"text-left px-6 py-4 font-semibold text-foreground",children:"Category"}),(0,b.jsx)("th",{className:"text-left px-6 py-4 font-semibold text-foreground",children:"Type"}),(0,b.jsx)("th",{className:"text-left px-6 py-4 font-semibold text-foreground",children:"Amount"}),(0,b.jsx)("th",{className:"text-left px-6 py-4 font-semibold text-foreground",children:"Note"}),(0,b.jsx)("th",{className:"text-left px-6 py-4 font-semibold text-foreground",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:0===j.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-muted-foreground",children:"No transactions yet. Add one to get started!"})}):j.map(a=>(0,b.jsxs)("tr",{className:"border-b border-card-border hover:bg-neutral-800/50",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-foreground",children:a.date}),(0,b.jsx)("td",{className:"px-6 py-4 text-foreground",children:a.category}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("span",{className:`flex items-center gap-2 font-medium ${"income"===a.type?"text-success":"text-error"}`,children:["income"===a.type?"ðŸ“¥":"ðŸ“¤",a.type]})}),(0,b.jsxs)("td",{className:"px-6 py-4 font-semibold text-foreground",children:["â‚±",a.amount.toLocaleString("en-US",{maximumFractionDigits:2})]}),(0,b.jsx)("td",{className:"px-6 py-4 text-muted-foreground text-sm",children:a.note}),(0,b.jsxs)("td",{className:"px-6 py-4 flex gap-2",children:[(0,b.jsx)(e.Button,{size:"sm",variant:"outline",className:"border-card-border text-foreground hover:bg-neutral-700",children:"UPDATE"}),(0,b.jsx)(e.Button,{size:"sm",variant:"outline",onClick:()=>x(a.id),className:"border-error text-error hover:bg-error/10",children:"DELETE"})]})]},a.id))})]})})}),p&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsx)(f.Card,{className:"bg-card-bg border-card-border w-full max-w-md",children:(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Add Transaction"}),(0,b.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Amount"}),(0,b.jsx)(g.Input,{type:"number",step:"0.01",placeholder:"0.00",value:t.amount,onChange:a=>u({...t,amount:a.target.value}),required:!0,className:"bg-neutral-800 border-card-border text-foreground"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),(0,b.jsxs)("select",{value:t.category,onChange:a=>u({...t,category:a.target.value}),required:!0,className:"w-full bg-neutral-800 border border-card-border rounded px-3 py-2 text-foreground",children:[(0,b.jsx)("option",{value:"",children:"Select category"}),l.map(a=>(0,b.jsx)("option",{value:a.name,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Type"}),(0,b.jsxs)("select",{value:t.type,onChange:a=>u({...t,type:a.target.value}),className:"w-full bg-neutral-800 border border-card-border rounded px-3 py-2 text-foreground",children:[(0,b.jsx)("option",{value:"expense",children:"Expense"}),(0,b.jsx)("option",{value:"income",children:"Income"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Date"}),(0,b.jsx)(g.Input,{type:"date",value:t.date,onChange:a=>u({...t,date:a.target.value}),required:!0,className:"bg-neutral-800 border-card-border text-foreground"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Note"}),(0,b.jsx)(g.Input,{type:"text",placeholder:"Optional note",value:t.note,onChange:a=>u({...t,note:a.target.value}),className:"bg-neutral-800 border-card-border text-foreground"})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>q(!1),className:"flex-1 border-card-border",children:"Cancel"}),(0,b.jsx)(e.Button,{type:"submit",className:"flex-1 bg-primary hover:bg-primary-dark text-black font-semibold",children:"Add"})]})]})]})})})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4696f363._.js.map