(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},70065,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}e.s(["Card",()=>a])},23750,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function a({className:e,type:a,...s}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>a])},52765,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(67881),l=e.i(70065),o=e.i(23750),n=e.i(22016);function d(){let e=(0,a.useRouter)(),[d,i]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[m,x]=(0,r.useState)(!1),[g,b]=(0,r.useState)(""),[f,h]=(0,r.useState)({title:"",targetAmount:"",deadline:""});(0,r.useEffect)(()=>{localStorage.getItem("accessToken")?p():e.push("/login")},[e]);let p=async()=>{try{let t=localStorage.getItem("accessToken"),r=await fetch("/api/goals",{headers:{Authorization:`Bearer ${t}`}});if(401===r.status){localStorage.removeItem("accessToken"),e.push("/login");return}let a=await r.json();i(a)}catch(e){console.error("Failed to fetch goals",e)}finally{u(!1)}},j=async e=>{e.preventDefault();try{let e=localStorage.getItem("accessToken");(await fetch("/api/goals",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(f)})).ok&&(x(!1),h({title:"",targetAmount:"",deadline:""}),p())}catch(e){console.error("Failed to add goal",e)}},v=async e=>{if(confirm("Delete this goal?"))try{let t=localStorage.getItem("accessToken");console.log(`Deleting goal ${e}...`);let r=await fetch(`/api/goals/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});console.log(`Delete response status: ${r.status}`);let a=await r.json();console.log("Delete response data:",a),r.ok?(b(""),p()):b(a.message||"Failed to delete goal")}catch(e){console.error("Failed to delete goal",e),b("An error occurred while deleting the goal")}};return c?(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:"Loading goals..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("nav",{className:"border-b border-card-border",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(n.default,{href:"/dashboard",className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-black text-lg",children:"ðŸ’°"})}),(0,t.jsx)("span",{className:"text-xl font-bold text-foreground",children:"SAVR"})]})}),(0,t.jsx)(s.Button,{variant:"ghost",onClick:()=>{localStorage.removeItem("accessToken"),e.push("/login")},className:"text-muted-foreground hover:text-foreground",children:"ðŸšª"})]})}),(0,t.jsx)("div",{className:"border-b border-card-border",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex gap-6",children:[(0,t.jsx)(n.default,{href:"/dashboard",className:"text-muted-foreground hover:text-foreground pb-2",children:"Dashboard"}),(0,t.jsx)(n.default,{href:"/transactions",className:"text-muted-foreground hover:text-foreground pb-2",children:"Transactions"}),(0,t.jsx)(n.default,{href:"/budgets",className:"text-muted-foreground hover:text-foreground pb-2",children:"Budgets"}),(0,t.jsx)(n.default,{href:"/goals",className:"text-primary font-medium border-b-2 border-primary pb-2",children:"Goals"})]})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[g&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-error/10 border border-error text-error rounded",children:g}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Savings Goals"}),(0,t.jsx)(s.Button,{onClick:()=>x(!0),className:"bg-primary hover:bg-primary-dark text-black font-semibold",children:"âž• New Goal"})]}),(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:0===d.length?(0,t.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"No savings goals yet"}),(0,t.jsx)(s.Button,{onClick:()=>x(!0),className:"bg-primary hover:bg-primary-dark text-black font-semibold",children:"Create your first goal"})]}):d.map(e=>(0,t.jsx)(l.Card,{className:"bg-card-bg border-card-border",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:e.title}),(0,t.jsx)(s.Button,{size:"sm",variant:"outline",onClick:()=>v(e.id),className:"border-error text-error hover:bg-error/10",children:"DELETE"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["â‚±",Number(e.currentAmount??0).toFixed(2)," of â‚±",Number(e.targetAmount??0).toFixed(2)]}),(0,t.jsxs)("span",{className:"font-semibold text-foreground",children:[e.percentage,"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-neutral-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-full bg-success rounded-full transition-all",style:{width:`${Math.min(e.percentage,100)}%`}})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["Target: ",e.deadline]}),(0,t.jsxs)("span",{className:"text-success font-medium",children:["â‚±",Number((e.targetAmount??0)-(e.currentAmount??0)).toFixed(2)," to go"]})]})]})},e.id))}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsx)(l.Card,{className:"bg-card-bg border-card-border w-full max-w-md",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"New Savings Goal"}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Goal Title"}),(0,t.jsx)(o.Input,{type:"text",placeholder:"e.g., New Laptop",value:f.title,onChange:e=>h({...f,title:e.target.value}),required:!0,className:"bg-neutral-800 border-card-border text-foreground"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Target Amount"}),(0,t.jsx)(o.Input,{type:"number",step:"0.01",placeholder:"0.00",value:f.targetAmount,onChange:e=>h({...f,targetAmount:e.target.value}),required:!0,className:"bg-neutral-800 border-card-border text-foreground"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Target Date"}),(0,t.jsx)(o.Input,{type:"date",value:f.deadline,onChange:e=>h({...f,deadline:e.target.value}),required:!0,className:"bg-neutral-800 border-card-border text-foreground"})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)(s.Button,{type:"button",variant:"outline",onClick:()=>x(!1),className:"flex-1 border-card-border",children:"Cancel"}),(0,t.jsx)(s.Button,{type:"submit",className:"flex-1 bg-primary hover:bg-primary-dark text-black font-semibold",children:"Create"})]})]})]})})})]})]})}e.s(["default",()=>d])}]);